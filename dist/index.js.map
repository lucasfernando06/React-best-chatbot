{"version":3,"file":"index.js","sources":["../src/lib/contexts/ThemeContext.js","../src/lib/components/Main/Wrapper.js","../src/lib/hooks/useTheme.js","../src/lib/components/Main/Chat/components/Chat.js","../src/lib/components/Main/Chat/components/ChatHeader.js","../src/lib/components/Main/Chat/components/ChatBody.js","../src/lib/components/Main/Chat/components/ChatFooter.js","../src/lib/components/Main/Chat/components/ChatText.js","../src/lib/components/Main/Chat/components/ChatHeaderBox.js","../src/lib/components/Main/Chat/components/ChatInput.js","../src/lib/components/Main/Chat/components/CloseIcon.js","../src/lib/components/Main/Chat/components/SendIcon.js","../src/lib/components/Main/Chat/components/IconsBox.js","../src/lib/components/Main/Chat/components/RefreshIcon.js","../src/lib/components/Main/Chat/components/ErrorMessage.js","../src/lib/components/Main/Chat/components/EndMessage.js","../src/lib/components/Main/Message/components/Container.js","../src/lib/components/Main/Message/components/Message.js","../src/lib/components/Main/Message/components/MessageAvatar.js","../src/lib/components/Main/Message/components/Loading.js","../src/lib/components/Main/Message/components/OptionsContainer.js","../src/lib/components/Main/Message/components/Option.js","../src/lib/components/Main/Message/components/ShowMessage.js","../src/lib/components/Main/Message/components/CustomComponentContainer.js","../src/lib/utils/scrollBottom.js","../src/lib/components/Main/Message/index.js","../src/lib/components/Main/Chat/index.js","../src/lib/components/Main/Button/components/ChatClick.js","../src/lib/components/Main/Button/components/ChatIcon.js","../src/lib/components/Main/Button/index.js","../src/lib/components/Main/index.js","../src/lib/assets/bot.png","../node_modules/style-inject/dist/style-inject.es.js","../src/lib/index.js"],"sourcesContent":["import React, { createContext } from \"react\";\r\n\r\nconst ThemeContext = createContext({});\r\n\r\nexport const ThemeProvider = ({ children, theme }) => {\r\n  return (\r\n    <ThemeContext.Provider\r\n      value={{\r\n        theme,\r\n      }}\r\n    >\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ThemeContext;\r\n","import React from \"react\";\r\n\r\nconst Wrapper = ({ children, ...rest }) => {\r\n  return <div {...rest}>{children}</div>;\r\n};\r\n\r\nexport default Wrapper;\r\n","import { useContext } from \"react\";\r\nimport ThemeContext from \"../contexts/ThemeContext\";\r\n\r\nconst useTheme = () => useContext(ThemeContext);\r\n\r\nexport default useTheme;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\nimport useTheme from \"../../../../hooks/useTheme\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  const { theme } = useTheme();\r\n  return (\r\n    <Wrapper className=\"rbc-chat\" style={theme.containerStyle} {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\nimport useTheme from \"../../../../hooks/useTheme\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  const { theme } = useTheme();\r\n  return (\r\n    <Wrapper\r\n      className=\"rbc-chat-header\"\r\n      style={{ background: theme.primaryColor }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\nimport useTheme from \"../../../../hooks/useTheme\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  const { theme } = useTheme();\r\n  return (\r\n    <Wrapper\r\n      className=\"rbc-chat-body\"\r\n      style={{ background: theme.background }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, error, ...rest }) => {\r\n  return (\r\n    <Wrapper\r\n      className=\"rbc-chat-footer\"\r\n      style={{ background: error ? \"#F05F41\" : \"#fff\" }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-chat-text\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-chat-header-box\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nconst Container = ({ ...rest }) => {\r\n  return <input className=\"rbc-chat-input\" {...rest} />;\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <div className=\"rbc-close-icon\" {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nconst Container = ({ disabled, children, ...rest }) => {\r\n  return (\r\n    <div\r\n      className=\"rbc-send-icon\"\r\n      style={{\r\n        cursor: !disabled ? \"pointer\" : \"inherit\",\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-icons-box\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <div className=\"rbc-refresh-icon\" {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-error-message\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-end-message\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, isUser, ...rest }) => {\r\n  return (\r\n    <Wrapper\r\n      className=\"rbc-message-container\"\r\n      style={{\r\n        alignItems: isUser ? \"flex-end\" : \"flex-start\",\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\nimport useTheme from \"../../../../hooks/useTheme\";\r\n\r\nconst Container = ({ children, isUser, ...rest }) => {\r\n  const { theme } = useTheme();\r\n  const {\r\n    primaryColor,\r\n    secondaryColor,\r\n    textPrimaryColor,\r\n    textSecondaryColor,\r\n  } = theme;\r\n\r\n  return (\r\n    <Wrapper\r\n      className=\"rbc-message\"\r\n      style={{\r\n        background: !isUser ? primaryColor : secondaryColor,\r\n        borderTopLeftRadius: isUser ? \"20px\" : \"0px\",\r\n        borderTopRightRadius: isUser ? \"0px\" : \"20px\",\r\n        color: isUser ? textSecondaryColor : textPrimaryColor,\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <img alt=\"Avatar\" className=\"rbc-message-avatar\" {...rest}>\r\n      {children}\r\n    </img>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ marginLeft, children, ...rest }) => {\r\n  return (\r\n    <Wrapper\r\n      style={{\r\n        marginLeft,\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-message-options-container\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\nimport useTheme from \"../../../../hooks/useTheme\";\r\n\r\nconst Container = ({ children, newStyle, ...rest }) => {\r\n  const { theme } = useTheme();\r\n  return (\r\n    <Wrapper\r\n      className=\"rbc-message-options-option\"\r\n      style={{\r\n        background: theme.secondaryColor,\r\n        color: theme.textSecondaryColor,\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-message-show-message\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-message-custom-container\" {...rest}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","const scrollBottom = () => {\r\n  const element = document.getElementById(\"rbc-chat-body\");\r\n\r\n  if (element) {\r\n    element.scrollTo({\r\n      top: element.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n};\r\n\r\nexport default scrollBottom;\r\n","import React, { useEffect, useState, memo } from \"react\";\r\n\r\nimport Container from \"./components/Container\";\r\nimport Message from \"./components/Message\";\r\nimport MessageAvatar from \"./components/MessageAvatar\";\r\nimport Loading from \"./components/Loading\";\r\nimport OptionsContainer from \"./components/OptionsContainer\";\r\nimport Option from \"./components/Option\";\r\nimport ShowMessage from \"./components/ShowMessage\";\r\nimport CustomComponentContainer from \"./components/CustomComponentContainer\";\r\nimport CustomLoadingContainer from \"./components/CustomLoadingContainer\";\r\n\r\nimport scrollBottom from \"../../../utils/scrollBottom\";\r\n\r\nconst MessageContainer = ({\r\n  message,\r\n  answers,\r\n  setIsDisabled,\r\n  handleAnswer,\r\n  triggerNext,\r\n  loadingComponent,\r\n}) => {\r\n  const {\r\n    src,\r\n    isUser,\r\n    content,\r\n    component,\r\n    receiveInput,\r\n    delay,\r\n    options,\r\n    fetch,\r\n  } = message;\r\n\r\n  const [showing, setShowing] = useState(isUser);\r\n  const [disableOptions, setDisableOptions] = useState(false);\r\n\r\n  const [fetchResult, setFetchResult] = useState({});\r\n\r\n  const { content: CustomComponent, bubble = true } = component || {};\r\n\r\n  const fetchApi = async () => {\r\n    try {\r\n      const result = await fetch();\r\n      setFetchResult(result);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const configureFlow = () => {\r\n    setShowing(true);\r\n\r\n    if (receiveInput || options) {\r\n      if (!options) setIsDisabled(false);\r\n    } else triggerNext();\r\n\r\n    scrollBottom();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const sync = async () => {\r\n      if (!showing) {\r\n        if (fetch) {\r\n          await fetchApi();\r\n          configureFlow();\r\n        } else {\r\n          setTimeout(() => {\r\n            configureFlow();\r\n          }, delay);\r\n        }\r\n      }\r\n\r\n      scrollBottom();\r\n    };\r\n\r\n    sync();\r\n  });\r\n\r\n  const callHandleAnswer = (option) => {\r\n    handleAnswer(option);\r\n    setDisableOptions(true);\r\n  };\r\n\r\n  const renderCustomComponent = () => (\r\n    <CustomComponent answers={answers} fetchResult={fetchResult} />\r\n  );\r\n\r\n  return (\r\n    <Container isUser={isUser}>\r\n      {!showing ? (\r\n        <Loading marginLeft={!src ? 50 : 0}>{loadingComponent}</Loading>\r\n      ) : (\r\n        <>\r\n          <ShowMessage>\r\n            {src ? (\r\n              <MessageAvatar alt=\"Bot Avatar\" src={src} />\r\n            ) : (\r\n              <div style={{ marginLeft: 50 }}></div>\r\n            )}\r\n            {bubble\r\n              ? (content || CustomComponent) && (\r\n                  <Message isUser={isUser}>\r\n                    {content}\r\n                    {CustomComponent && renderCustomComponent()}\r\n                  </Message>\r\n                )\r\n              : CustomComponent && (\r\n                  <CustomComponentContainer>\r\n                    {renderCustomComponent()}\r\n                  </CustomComponentContainer>\r\n                )}\r\n          </ShowMessage>\r\n          {options && !disableOptions && (\r\n            <OptionsContainer>\r\n              {options.map((option) => (\r\n                <Option\r\n                  key={option.value}\r\n                  onClick={() => callHandleAnswer(option)}\r\n                >\r\n                  {option.content}\r\n                </Option>\r\n              ))}\r\n            </OptionsContainer>\r\n          )}\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default memo(MessageContainer);\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Chat from \"./components/Chat\";\r\nimport ChatHeader from \"./components/ChatHeader\";\r\nimport ChatBody from \"./components/ChatBody\";\r\nimport ChatFooter from \"./components/ChatFooter\";\r\nimport ChatText from \"./components/ChatText\";\r\nimport ChatHeaderBox from \"./components/ChatHeaderBox\";\r\nimport ChatInput from \"./components/ChatInput\";\r\nimport CloseIcon from \"./components/CloseIcon\";\r\nimport SendIcon from \"./components/SendIcon\";\r\nimport IconsBox from \"./components/IconsBox\";\r\nimport RefreshIcon from \"./components/RefreshIcon\";\r\nimport ErrorMessage from \"./components/ErrorMessage\";\r\nimport EndMessage from \"./components/EndMessage\";\r\n\r\nimport Message from \"../Message\";\r\n\r\nconst Bot = ({ handleResetChat, toggleOpen, options, steps }) => {\r\n  const {\r\n    header,\r\n    botAvatarSrc,\r\n    inputPlaceholder,\r\n    endContent,\r\n    messageDelay,\r\n    sendingMessageCallback,\r\n    endingCallback,\r\n    sendComponentFunction,\r\n    loadingComponent,\r\n    refreshComponent,\r\n    closeComponent,\r\n  } = options;\r\n\r\n  const initial = steps ? steps[0] : null;\r\n\r\n  const [value, setValue] = useState(\"\");\r\n  const [actualStep, setActualStep] = useState({ ...initial });\r\n\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [end, setEnd] = useState(false);\r\n\r\n  const [answers, setAnswers] = useState({\r\n    values: {},\r\n    timeInMs: {},\r\n  });\r\n\r\n  const [startTime, setStartTime] = useState(new Date());\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  const delay = (customDelay) => {\r\n    return customDelay ? customDelay : messageDelay;\r\n  };\r\n\r\n  const calculateTimeMs = () => {\r\n    const endTime = new Date();\r\n    const timeDiff = endTime - startTime;\r\n\r\n    setStartTime(new Date());\r\n    return timeDiff;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (actualStep) handleNewMessage(actualStep);\r\n  }, [actualStep]);\r\n\r\n  useEffect(() => {\r\n    if (actualStep && actualStep.end) {\r\n      setTimeout(() => {\r\n        setEnd(true);\r\n        endingCallback(answers, toggleOpen, handleResetChat);\r\n      }, delay(actualStep.delay));\r\n    }\r\n  }, [messages]);\r\n\r\n  const handleChange = (value) => {\r\n    setValue(value);\r\n  };\r\n\r\n  const handleNewMessage = (newMessage) => {\r\n    const newArray = Object.assign([], messages);\r\n    newArray.push(newMessage);\r\n\r\n    setMessages(newArray);\r\n  };\r\n\r\n  const handleAnswer = (option = null) => {\r\n    setIsDisabled(true);\r\n\r\n    const newValue = option ? option : value;\r\n\r\n    const newMessage = {\r\n      isUser: true,\r\n      content: option ? newValue.content : newValue,\r\n    };\r\n\r\n    if (actualStep && actualStep.validator && !option) {\r\n      const error = actualStep.validator(value);\r\n      if (error) {\r\n        setError(error);\r\n        setTimeout(() => {\r\n          setIsDisabled(false);\r\n          setError(null);\r\n        }, 2000);\r\n\r\n        return;\r\n      }\r\n    }\r\n\r\n    const newAnswers = Object.assign(\r\n      {},\r\n      {\r\n        values: Object.assign({}, answers.values, {\r\n          [actualStep && actualStep.id]: option\r\n            ? {\r\n                content: newValue.content,\r\n                value: newValue.value,\r\n              }\r\n            : newValue,\r\n        }),\r\n        timeInMs: Object.assign({}, answers.timeInMs, {\r\n          [actualStep && actualStep.id]: calculateTimeMs(),\r\n        }),\r\n      }\r\n    );\r\n    handleChange(\"\");\r\n\r\n    setAnswers(newAnswers);\r\n    handleNewMessage(newMessage);\r\n\r\n    triggerNext(option ? option.goTo : actualStep && actualStep.goTo);\r\n    sendingMessageCallback(newAnswers, toggleOpen);\r\n  };\r\n\r\n  const triggerNext = (goTo = null) => {\r\n    const target = goTo ? goTo : actualStep && actualStep.goTo;\r\n    const nextStep = steps && steps.find((x) => x.id === target);\r\n    if (nextStep) setActualStep(nextStep);\r\n  };\r\n\r\n  const lastMessageIsBot = (index) => {\r\n    const lastMessage = messages[index - 1];\r\n    return !lastMessage ? false : !lastMessage.isUser;\r\n  };\r\n\r\n  const renderMessage = (key, message, index) => (\r\n    <Message\r\n      key={key}\r\n      message={Object.assign({}, message, {\r\n        src: !message.isUser\r\n          ? !lastMessageIsBot(index)\r\n            ? botAvatarSrc\r\n            : null\r\n          : null,\r\n        delay: delay(message.delay),\r\n      })}\r\n      loadingComponent={loadingComponent}\r\n      answers={answers}\r\n      handleAnswer={handleAnswer}\r\n      triggerNext={triggerNext}\r\n      setIsDisabled={setIsDisabled}\r\n    />\r\n  );\r\n\r\n  const disableSend = () => {\r\n    return isDisabled || !value || value === \"\";\r\n  };\r\n\r\n  return (\r\n    <Chat>\r\n      <ChatHeader>\r\n        <ChatHeaderBox>\r\n          <ChatText>{header}</ChatText>\r\n        </ChatHeaderBox>\r\n        <IconsBox>\r\n          <RefreshIcon onClick={handleResetChat}>\r\n            {refreshComponent}\r\n          </RefreshIcon>\r\n          <CloseIcon onClick={toggleOpen}>{closeComponent}</CloseIcon>\r\n        </IconsBox>\r\n      </ChatHeader>\r\n      <ChatBody id=\"rbc-chat-body\">\r\n        {messages &&\r\n          messages.length > 0 &&\r\n          messages.map((message, index) =>\r\n            renderMessage(`KEY-${message.id}-${index}`, message, index)\r\n          )}\r\n      </ChatBody>\r\n      {(!isDisabled || error || end) && (\r\n        <ChatFooter error={error}>\r\n          {end ? (\r\n            <EndMessage>{endContent}</EndMessage>\r\n          ) : !error ? (\r\n            <>\r\n              <ChatInput\r\n                autoFocus\r\n                value={value}\r\n                onKeyDown={(e) =>\r\n                  e.key === \"Enter\" && (!disableSend() ? handleAnswer() : {})\r\n                }\r\n                onChange={(e) => handleChange(e.target.value)}\r\n                disabled={isDisabled}\r\n                placeholder={inputPlaceholder}\r\n              />\r\n              <div onClick={() => (!disableSend() ? handleAnswer() : {})}>\r\n                <SendIcon disabled={disableSend()}>\r\n                  {sendComponentFunction(disableSend())}\r\n                </SendIcon>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <ErrorMessage>{error}</ErrorMessage>\r\n          )}\r\n        </ChatFooter>\r\n      )}\r\n    </Chat>\r\n  );\r\n};\r\n\r\nexport default Bot;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ children, theme, chatStyle, ...rest }) => {\r\n  return (\r\n    <Wrapper\r\n      className=\"rbc-btn-chat\"\r\n      style={{\r\n        ...chatStyle,\r\n        background: theme.primaryColor,\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport Wrapper from \"../../Wrapper\";\r\n\r\nconst Container = ({ ...rest }) => {\r\n  return (\r\n    <Wrapper className=\"rbc-btn-chat-icon\" {...rest}>\r\n      💬\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","import React from \"react\";\r\n\r\nimport ChatClick from \"./components/ChatClick\";\r\nimport ChatIcon from \"./components/ChatIcon\";\r\nimport useTheme from \"../../../hooks/useTheme\";\r\n\r\nconst IconContainer = ({ chatButtonComponent }) => {\r\n  const { theme } = useTheme();\r\n\r\n  const { containerStyle } = theme;\r\n\r\n  const chatStyle = { ...containerStyle, width: 50, height: 50 };\r\n  const propsStyle = { ...containerStyle, width: \"auto\" };\r\n\r\n  return chatButtonComponent ? (\r\n    <div style={propsStyle}>{chatButtonComponent}</div>\r\n  ) : (\r\n    <ChatClick theme={theme} chatStyle={chatStyle}>\r\n      <ChatIcon>{chatButtonComponent}</ChatIcon>\r\n    </ChatClick>\r\n  );\r\n};\r\n\r\nexport default IconContainer;\r\n","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport Chat from \"./Chat\";\r\nimport Button from \"./Button\";\r\n\r\nconst Bot = ({ options, theme, steps }) => {\r\n  const {\r\n    open: visible,\r\n    hidden,\r\n    openingCallback,\r\n    closingCallback,\r\n    chatButtonComponent,\r\n    openInSeconds,\r\n  } = options;\r\n\r\n  const [key, setKey] = useState(1);\r\n  const [init, setInit] = useState(visible);\r\n  const [open, setOpen] = useState(visible);\r\n\r\n  useEffect(() => {\r\n    if (!open && openInSeconds) {\r\n      setTimeout(() => {\r\n        setOpen(true);\r\n      }, 1000 * openInSeconds);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      openingCallback();\r\n      if (!init) setInit(true);\r\n    } else if (init) closingCallback();\r\n  }, [open]);\r\n\r\n  const handleResetChat = () => {\r\n    setKey(key + 1);\r\n  };\r\n\r\n  const toggleOpen = () => {\r\n    setOpen((prev) => !prev);\r\n  };\r\n\r\n  return hidden ? (\r\n    <></>\r\n  ) : (\r\n    <>\r\n      <div\r\n        className={\r\n          open ? \"react-best-chatbot-visible\" : \"react-best-chatbot-hidden\"\r\n        }\r\n      >\r\n        {init && (\r\n          <Chat\r\n            key={key}\r\n            theme={theme}\r\n            options={options}\r\n            steps={steps}\r\n            handleResetChat={handleResetChat}\r\n            toggleOpen={toggleOpen}\r\n          />\r\n        )}\r\n      </div>\r\n      <div\r\n        className={\r\n          !open ? \"react-best-chatbot-visible\" : \"react-best-chatbot-hidden\"\r\n        }\r\n        onClick={toggleOpen}\r\n      >\r\n        <Button\r\n          toggleOpen={toggleOpen}\r\n          chatButtonComponent={chatButtonComponent}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Bot;\r\n","var img = \"data:image/png;base64,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\";\n  export default img;","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from \"react\";\r\n\r\nimport { ThemeProvider } from \"./contexts/ThemeContext\";\r\nimport Main from \"./components/Main\";\r\n\r\nimport BotImage from \"./assets/bot.png\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst defaultTheme = {\r\n  primaryColor: \"#484a49\",\r\n  secondaryColor: \"#D53634\",\r\n  textPrimaryColor: \"#FFFFFF\",\r\n  textSecondaryColor: \"#FFFFFF\",\r\n  background: \"#F0F0F0\",\r\n  containerStyle: {\r\n    width: 330,\r\n    position: \"fixed\",\r\n    bottom: 20,\r\n    right: 20,\r\n  },\r\n};\r\n\r\nconst defaultOptions = {\r\n  header: <span style={{ color: \"#FFFFFF\" }}>Bot</span>,\r\n  inputPlaceholder: \"Type in your message...\",\r\n  endContent: \"End...\",\r\n  botAvatarSrc: BotImage,\r\n  messageDelay: 500,\r\n  sendComponentFunction: () => \"🟢\",\r\n  loadingComponent: \"Loading...\",\r\n  refreshComponent: \"🔵\",\r\n  closeComponent: \"🔴\",\r\n  openingCallback: () => {},\r\n  closingCallback: () => {},\r\n  endingCallback: () => {},\r\n  sendingMessageCallback: () => {},\r\n};\r\n\r\nconst ChatBot = ({\r\n  theme: themeProps = {},\r\n  options: optionsProps = {},\r\n  steps,\r\n}) => {\r\n  const theme = Object.assign({}, defaultTheme, themeProps);\r\n  const options = Object.assign({}, defaultOptions, optionsProps);\r\n\r\n  const componentProps = {\r\n    options,\r\n    steps,\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Main theme={theme} {...componentProps} />\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default ChatBot;\r\n"],"names":["ThemeContext","createContext","ThemeProvider","children","theme","React","Wrapper","rest","useTheme","useContext","Container","containerStyle","background","primaryColor","error","disabled","cursor","isUser","alignItems","secondaryColor","textPrimaryColor","textSecondaryColor","borderTopLeftRadius","borderTopRightRadius","color","marginLeft","newStyle","scrollBottom","element","document","getElementById","scrollTo","top","scrollHeight","behavior","MessageContainer","message","answers","setIsDisabled","handleAnswer","triggerNext","loadingComponent","src","content","component","receiveInput","delay","options","fetch","showing","setShowing","useState","disableOptions","setDisableOptions","fetchResult","setFetchResult","CustomComponent","bubble","fetchApi","result","err","console","configureFlow","useEffect","sync","setTimeout","callHandleAnswer","option","renderCustomComponent","Loading","ShowMessage","MessageAvatar","Message","CustomComponentContainer","OptionsContainer","map","Option","value","memo","Bot","handleResetChat","toggleOpen","steps","header","botAvatarSrc","inputPlaceholder","endContent","messageDelay","sendingMessageCallback","endingCallback","sendComponentFunction","refreshComponent","closeComponent","initial","setValue","actualStep","setActualStep","isDisabled","setError","end","setEnd","setAnswers","values","timeInMs","startTime","setStartTime","Date","messages","setMessages","customDelay","calculateTimeMs","endTime","timeDiff","handleNewMessage","handleChange","newMessage","newArray","Object","assign","push","newValue","validator","newAnswers","id","goTo","target","nextStep","find","x","lastMessageIsBot","index","lastMessage","renderMessage","key","disableSend","Chat","ChatHeader","ChatHeaderBox","ChatText","IconsBox","RefreshIcon","CloseIcon","ChatBody","length","ChatFooter","EndMessage","ChatInput","e","SendIcon","ErrorMessage","chatStyle","IconContainer","chatButtonComponent","width","height","propsStyle","ChatClick","ChatIcon","open","visible","hidden","openingCallback","closingCallback","openInSeconds","setKey","init","setInit","setOpen","prev","Button","defaultTheme","position","bottom","right","defaultOptions","BotImage","ChatBot","themeProps","optionsProps","componentProps","Main"],"mappings":"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"}